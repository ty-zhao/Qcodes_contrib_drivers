<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>qcodes_contrib_drivers.drivers.Bilt.ITest &mdash; qcodes_contrib_drivers 0.14.0.dev508+main.g5677223 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/documentation_options.js?v=f47d49fe"></script>
        <script src="../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            qcodes_contrib_drivers
          </a>
              <div class="version">
                0.14.0.dev508+main.g5677223
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../examples/index.html">Examples of how to use drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/generated/qcodes_contrib_drivers.drivers.html">qcodes_contrib_drivers.drivers package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">qcodes_contrib_drivers</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">qcodes_contrib_drivers.drivers.Bilt.ITest</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for qcodes_contrib_drivers.drivers.Bilt.ITest</h1><div class="highlight"><pre>
<span></span><span class="c1"># This Python file uses the following encoding: utf-8</span>
<span class="c1"># Loick Le Guevel, 2019</span>
<span class="c1"># Etienne Dumur &lt;etienne.dumur@gmail.com&gt;, 2021</span>
<span class="c1"># Simon Zihlmann &lt;zihlmann.simon@gmail.com&gt;, 2021</span>
<span class="c1"># Victor Millory &lt;victor.millory@cea.fr&gt;, 2021</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Any</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">ceil</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>

<span class="kn">from</span> <span class="nn">qcodes.instrument</span> <span class="kn">import</span> <span class="n">Instrument</span>
<span class="kn">from</span> <span class="nn">qcodes.instrument</span> <span class="kn">import</span> <span class="n">InstrumentChannel</span><span class="p">,</span> <span class="n">ChannelList</span>
<span class="kn">from</span> <span class="nn">qcodes.parameters</span> <span class="kn">import</span> <span class="n">MultiChannelInstrumentParameter</span>
<span class="kn">from</span> <span class="nn">qcodes.instrument</span> <span class="kn">import</span> <span class="n">VisaInstrument</span>
<span class="kn">from</span> <span class="nn">qcodes.utils</span> <span class="kn">import</span> <span class="n">validators</span> <span class="k">as</span> <span class="n">vals</span>
<span class="kn">from</span> <span class="nn">qcodes.parameters</span> <span class="kn">import</span> <span class="n">create_on_off_val_mapping</span>

<div class="viewcode-block" id="iTestChannel">
<a class="viewcode-back" href="../../../../api/generated/qcodes_contrib_drivers.drivers.Bilt.html#qcodes_contrib_drivers.drivers.Bilt.ITest.iTestChannel">[docs]</a>
<span class="k">class</span> <span class="nc">iTestChannel</span><span class="p">(</span><span class="n">InstrumentChannel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A single channel of iTest.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="iTestChannel.__init__">
<a class="viewcode-back" href="../../../../api/generated/qcodes_contrib_drivers.drivers.Bilt.html#qcodes_contrib_drivers.drivers.Bilt.ITest.iTestChannel.__init__">[docs]</a>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Instrument</span><span class="p">,</span>
                       <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                       <span class="n">chan_num</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            parent: The instrument to which the channel is attached.</span>
<span class="sd">            name: The name of the channel.</span>
<span class="sd">            chan_num: The number of the channel in question.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">chan_num</span> <span class="o">=</span> <span class="n">chan_num</span>
        <span class="c1"># Get channel id</span>
        <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">chan_num</span><span class="o">/</span><span class="mf">4.</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">chan_num</span><span class="o">%</span><span class="mi">4</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chan_id</span> <span class="o">=</span> <span class="s1">&#39;i</span><span class="si">{}</span><span class="s1">;c</span><span class="si">{}</span><span class="s1">;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;v&#39;</span><span class="p">,</span>
                           <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Channel </span><span class="si">{}</span><span class="s1"> voltage&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;V&#39;</span><span class="p">,</span>
                           <span class="n">docstring</span><span class="o">=</span><span class="s1">&#39;Voltage of the channel in volt.&#39;</span><span class="p">,</span>
                           <span class="n">get_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_get_voltage</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">get_parser</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
                           <span class="n">set_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_set_voltage</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">inter_delay</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_v_inter_delay</span><span class="p">,</span>
                           <span class="n">post_delay</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_v_post_delay</span><span class="p">,</span>
                           <span class="n">step</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_v_step</span><span class="p">,</span>
                           <span class="n">vals</span><span class="o">=</span><span class="n">vals</span><span class="o">.</span><span class="n">Numbers</span><span class="p">(</span><span class="o">-</span><span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
                           <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">,</span>
                           <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Channel </span><span class="si">{}</span><span class="s1"> current&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span>
                           <span class="n">docstring</span><span class="o">=</span><span class="s1">&#39;Current of the channel in ampere.&#39;</span><span class="p">,</span>
                           <span class="n">get_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_get_current</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">get_parser</span><span class="o">=</span><span class="nb">float</span>
                           <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;ramp_slope&#39;</span><span class="p">,</span>
                           <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Channel </span><span class="si">{}</span><span class="s1"> ramp slope&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;V/ms&#39;</span><span class="p">,</span>
                           <span class="n">docstring</span><span class="o">=</span><span class="s1">&#39;Slope of the ramp in V/ms.&#39;</span><span class="p">,</span>
                           <span class="n">get_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_get_ramp_slope</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">get_parser</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
                           <span class="n">set_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_set_ramp_slope</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">vals</span><span class="o">=</span><span class="n">vals</span><span class="o">.</span><span class="n">Numbers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                           <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;output_mode&#39;</span><span class="p">,</span>
                           <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Channel </span><span class="si">{}</span><span class="s1"> output mode&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">docstring</span><span class="o">=</span><span class="s1">&#39;Mode of the output {exp, ramp}.&#39;</span><span class="p">,</span>
                           <span class="n">get_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_get_output_function</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">get_parser</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                           <span class="n">set_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_set_output_function</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">set_parser</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                           <span class="n">initial_value</span><span class="o">=</span><span class="s1">&#39;exp&#39;</span><span class="p">,</span>
                           <span class="n">vals</span><span class="o">=</span><span class="n">vals</span><span class="o">.</span><span class="n">Enum</span><span class="p">(</span><span class="s1">&#39;ramp&#39;</span><span class="p">,</span> <span class="s1">&#39;exp&#39;</span><span class="p">)</span>
                           <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;v_range&#39;</span><span class="p">,</span>
                           <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;Channel </span><span class="si">{}</span><span class="s1"> voltage range&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">docstring</span><span class="o">=</span><span class="s1">&#39;Range of the channel in volt.&#39;</span><span class="p">,</span>
                           <span class="n">set_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_set_chan_range</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">set_parser</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
                           <span class="n">get_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_get_chan_range</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">get_parser</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
                           <span class="n">vals</span><span class="o">=</span><span class="n">vals</span><span class="o">.</span><span class="n">Numbers</span><span class="p">(</span><span class="mf">1.2</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
                           <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;state&#39;</span><span class="p">,</span>
                           <span class="n">docstring</span><span class="o">=</span><span class="s1">&#39;State of the channel {on, off}.&#39;</span><span class="p">,</span>
                           <span class="n">get_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_get_chan_state</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">set_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_set_chan_state</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">val_mapping</span><span class="o">=</span><span class="n">create_on_off_val_mapping</span><span class="p">(</span><span class="n">on_val</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">,</span>
                                                                 <span class="n">off_val</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
                           <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;pos_sat&#39;</span><span class="p">,</span>
                           <span class="n">get_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_get_chan_pos_sat</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">get_parser</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                           <span class="n">set_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_set_chan_pos_sat</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">set_parser</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                           <span class="n">initial_value</span><span class="o">=</span><span class="mi">12</span>
                           <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;neg_sat&#39;</span><span class="p">,</span>
                           <span class="n">get_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_get_chan_neg_sat</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">get_parser</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                           <span class="n">set_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_set_chan_neg_sat</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">set_parser</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                           <span class="n">initial_value</span><span class="o">=-</span><span class="mi">12</span>
                           <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;bilt_name&#39;</span><span class="p">,</span>
                           <span class="n">set_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_set_chan_name</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">set_parser</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                           <span class="n">initial_value</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Chan</span><span class="si">{</span><span class="n">chan_num</span><span class="si">:</span><span class="s1">02d</span><span class="si">}</span><span class="s1">&#39;</span>
                           <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;synchronous_enable&#39;</span><span class="p">,</span>
                           <span class="n">docstring</span><span class="o">=</span><span class="s1">&#39;Is the channel in synchronous mode.&#39;</span><span class="p">,</span>
                           <span class="n">get_cmd</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                           <span class="n">get_parser</span><span class="o">=</span><span class="nb">bool</span><span class="p">,</span>
                           <span class="n">set_cmd</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                           <span class="n">vals</span><span class="o">=</span><span class="n">vals</span><span class="o">.</span><span class="n">Bool</span><span class="p">(),</span>
                           <span class="n">initial_value</span><span class="o">=</span><span class="kc">False</span>
                           <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;synchronous_delay&#39;</span><span class="p">,</span>
                           <span class="n">docstring</span><span class="o">=</span><span class="s1">&#39;Time between to voltage measurement in second.&#39;</span><span class="p">,</span>
                           <span class="n">get_cmd</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                           <span class="n">get_parser</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
                           <span class="n">set_cmd</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                           <span class="n">vals</span><span class="o">=</span><span class="n">vals</span><span class="o">.</span><span class="n">Numbers</span><span class="p">(</span><span class="mf">1e-3</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
                           <span class="n">initial_value</span><span class="o">=</span><span class="mf">1e-3</span>
                           <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;synchronous_threshold&#39;</span><span class="p">,</span>
                           <span class="n">docstring</span><span class="o">=</span><span class="s1">&#39;Threshold to unblock communication in volt.&#39;</span><span class="p">,</span>
                           <span class="n">get_cmd</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                           <span class="n">get_parser</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
                           <span class="n">set_cmd</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                           <span class="n">vals</span><span class="o">=</span><span class="n">vals</span><span class="o">.</span><span class="n">Numbers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1e-3</span><span class="p">),</span>
                           <span class="n">initial_value</span><span class="o">=</span><span class="mf">1e-5</span>
                           <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;v_autorange&#39;</span><span class="p">,</span>
                           <span class="n">docstring</span><span class="o">=</span><span class="s1">&#39;If the voltage autorange is activated.&#39;</span><span class="p">,</span>
                           <span class="n">get_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_get_chan_v_autorange</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">get_parser</span><span class="o">=</span><span class="nb">bool</span><span class="p">,</span>
                           <span class="n">set_cmd</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_set_chan_v_autorange</span><span class="p">,</span> <span class="n">chan_num</span><span class="p">),</span>
                           <span class="n">vals</span><span class="o">=</span><span class="n">vals</span><span class="o">.</span><span class="n">Bool</span><span class="p">(),</span>
                           <span class="n">initial_value</span><span class="o">=</span><span class="kc">False</span>
                           <span class="p">)</span></div>



<div class="viewcode-block" id="iTestChannel.start">
<a class="viewcode-back" href="../../../../api/generated/qcodes_contrib_drivers.drivers.Bilt.html#qcodes_contrib_drivers.drivers.Bilt.ITest.iTestChannel.start">[docs]</a>
    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Switch on the channel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_set_chan_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chan_num</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="iTestChannel.stop">
<a class="viewcode-back" href="../../../../api/generated/qcodes_contrib_drivers.drivers.Bilt.html#qcodes_contrib_drivers.drivers.Bilt.ITest.iTestChannel.stop">[docs]</a>
    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Switch off the channel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_set_chan_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chan_num</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="iTestChannel.clear_alarm">
<a class="viewcode-back" href="../../../../api/generated/qcodes_contrib_drivers.drivers.Bilt.html#qcodes_contrib_drivers.drivers.Bilt.ITest.iTestChannel.clear_alarm">[docs]</a>
    <span class="k">def</span> <span class="nf">clear_alarm</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clear the alarm and warnings of the channel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">_clear_chan_alarm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chan_num</span><span class="p">)</span></div>
</div>


<div class="viewcode-block" id="iTestMultiChannelParameter">
<a class="viewcode-back" href="../../../../api/generated/qcodes_contrib_drivers.drivers.Bilt.html#qcodes_contrib_drivers.drivers.Bilt.ITest.iTestMultiChannelParameter">[docs]</a>
<span class="k">class</span> <span class="nc">iTestMultiChannelParameter</span><span class="p">(</span><span class="n">MultiChannelInstrumentParameter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <span class="n">param_name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">channels</span><span class="p">,</span> <span class="n">param_name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="ITest">
<a class="viewcode-back" href="../../../../api/generated/qcodes_contrib_drivers.drivers.Bilt.html#qcodes_contrib_drivers.drivers.Bilt.ITest.ITest">[docs]</a>
<span class="k">class</span> <span class="nc">ITest</span><span class="p">(</span><span class="n">VisaInstrument</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is the QCoDeS python driver for the iTest device from Bilt.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="ITest.__init__">
<a class="viewcode-back" href="../../../../api/generated/qcodes_contrib_drivers.drivers.Bilt.html#qcodes_contrib_drivers.drivers.Bilt.ITest.ITest.__init__">[docs]</a>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
                      <span class="n">address</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
                      <span class="n">num_chans</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
                      <span class="n">init_start</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                      <span class="n">synchronous_enable</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                      <span class="n">synchronous_delay</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                      <span class="n">synchronous_threshold</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">,</span>
                      <span class="n">v_inter_delay</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">5e-3</span><span class="p">,</span>
                      <span class="n">v_post_delay</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">45e-3</span><span class="p">,</span> <span class="c1"># settling time to 99%</span>
                      <span class="n">v_step</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">20e-3</span><span class="p">,</span>
                      <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Instantiate the instrument.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The instrument name used by qcodes</span>
<span class="sd">            address: The VISA name of the resource</span>
<span class="sd">            num_chans: Number of channels to assign. Default: 16</span>
<span class="sd">            init_start: If true: set all channels to 0V, 12V range, exponential mode and switch</span>
<span class="sd">                them on.</span>
<span class="sd">            synchronous_enable: If true, block the communication until the set voltage</span>
<span class="sd">                is reached. The communication is block through a simple while loop</span>
<span class="sd">                with a waiting time &quot;synchronous_delay&quot; at each iteration until the</span>
<span class="sd">                set voltage and the measured voltage difference is below</span>
<span class="sd">                &quot;synchronous_threshold&quot;.</span>
<span class="sd">            synchronous_delay: Time between to voltage measurement in second.</span>
<span class="sd">            synchronous_threshold: Threshold to unblock communication in volt.</span>
<span class="sd">            v_inter_delay: delay in units of s between setting new value of the voltage parameter, defaults to 5e-3.</span>
<span class="sd">            v_post_delay: delay in units of s after setting voltage parameter to final value, defaults to 45e-3.</span>
<span class="sd">            v_step: max step size of the voltage parameter in units of V, defaults to 20e-3.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ITest object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">address</span><span class="o">=</span><span class="n">address</span><span class="p">,</span>
                               <span class="n">terminator</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span>
                               <span class="n">device_clear</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                               <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">idn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_idn</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_chans</span> <span class="o">=</span> <span class="n">num_chans</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_v_inter_delay</span> <span class="o">=</span> <span class="n">v_inter_delay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_v_post_delay</span> <span class="o">=</span> <span class="n">v_post_delay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_v_step</span> <span class="o">=</span> <span class="n">v_step</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chan_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">num_chans</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Create the channels</span>
        <span class="n">channels</span> <span class="o">=</span> <span class="n">ChannelList</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                               <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Channels&#39;</span><span class="p">,</span>
                               <span class="n">chan_type</span><span class="o">=</span><span class="n">iTestChannel</span><span class="p">,</span>
                               <span class="n">multichan_paramclass</span><span class="o">=</span><span class="n">iTestMultiChannelParameter</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_range</span><span class="p">:</span>

            <span class="n">channel</span> <span class="o">=</span> <span class="n">iTestChannel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;chan</span><span class="si">{:02}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">),</span>
                                         <span class="n">chan_num</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
            <span class="n">channels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_submodule</span><span class="p">(</span><span class="s1">&#39;ch</span><span class="si">{:02}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="n">channel</span><span class="p">)</span>

        <span class="n">channels</span><span class="o">.</span><span class="n">lock</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_submodule</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">,</span><span class="n">channels</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">init_start</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">:</span>
                <span class="n">channel</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
                <span class="n">channel</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="n">channel</span><span class="o">.</span><span class="n">v_range</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
                <span class="n">channel</span><span class="o">.</span><span class="n">v_autorange</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">channel</span><span class="o">.</span><span class="n">synchronous_enable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">channel</span><span class="o">.</span><span class="n">output_mode</span><span class="p">(</span><span class="s1">&#39;exp&#39;</span><span class="p">)</span>
                <span class="n">channel</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">connect_message</span><span class="p">()</span></div>


    <span class="k">def</span> <span class="nf">_set_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
                           <span class="n">v_set</span><span class="p">:</span><span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set cmd for the chXX_v parameter</span>

<span class="sd">        Args:</span>
<span class="sd">            chan: The 1-indexed channel number</span>
<span class="sd">            v_set: The target voltage</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">VOLT </span><span class="si">{:.8f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chan_id</span><span class="p">,</span> <span class="n">v_set</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;TRIG:INPUT:INIT&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="n">chan</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">synchronous_enable</span><span class="p">():</span>
            <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_voltage</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
            <span class="k">while</span> <span class="nb">abs</span><span class="p">(</span><span class="n">v_set</span> <span class="o">-</span> <span class="n">v</span><span class="p">)</span><span class="o">&gt;=</span><span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="n">chan</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">synchronous_threshold</span><span class="p">():</span>
                <span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="n">chan</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">synchronous_delay</span><span class="p">())</span>
                <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_voltage</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get cmd for the chXX_v parameter</span>

<span class="sd">        Args:</span>
<span class="sd">            chan: The 1-indexed channel number</span>

<span class="sd">        Returns:</span>
<span class="sd">            Voltage</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">MEAS:VOLT?&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chan_id</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">_get_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get cmd for the chXX_i parameter</span>

<span class="sd">        Args:</span>
<span class="sd">            chan: The 1-indexed channel number</span>

<span class="sd">        Returns:</span>
<span class="sd">            Current</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">MEAS:CURR?&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chan_id</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">_set_ramp_slope</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
                              <span class="n">slope</span><span class="p">:</span><span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set slope of chXX for ramp mode</span>

<span class="sd">        Args:</span>
<span class="sd">            chan The 1-indexed channel number</span>
<span class="sd">            slope Slope of chXX in V/ms</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">VOLT:SLOP </span><span class="si">{:.8f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chan_id</span><span class="p">,</span> <span class="n">slope</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_get_ramp_slope</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get slope of chXX</span>

<span class="sd">        Args:</span>
<span class="sd">            chan: The 1-indexed channel number</span>

<span class="sd">        Returns:</span>
<span class="sd">            chXX_slope parameter</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">VOLT:SLOP?&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chan_id</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_set_output_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
                                   <span class="n">outf</span><span class="p">:</span><span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set how to perform output voltage update</span>

<span class="sd">        Args:</span>
<span class="sd">            chan: The 1-indexed channel number</span>
<span class="sd">            ouf: Mode</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">outf</span><span class="o">==</span><span class="s1">&#39;exp&#39;</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
        <span class="k">elif</span> <span class="n">outf</span><span class="o">==</span><span class="s1">&#39;ramp&#39;</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Got unexpected output function mode: </span><span class="si">{</span><span class="n">outf</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;trig:input &#39;</span> <span class="o">+</span> <span class="n">mode</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_output_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get output volage update  function</span>

<span class="sd">        Args:</span>
<span class="sd">            chan: The 1-indexed channel number</span>

<span class="sd">        Returns:</span>
<span class="sd">            mode</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;TRIG:INPUT?&#39;</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;exp&#39;</span>
        <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;ramp&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Got unexpected output function mode: </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mode</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_set_chan_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
                              <span class="n">volt</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set output voltage range</span>

<span class="sd">        Args:</span>
<span class="sd">            chan : The 1-indexed channel number</span>
<span class="sd">            volt : Voltage range (1.2 or 12)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_chan_state</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span><span class="o">==</span><span class="s1">&#39;1&#39;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Channel </span><span class="si">{}</span><span class="s1"> is on and therefore the range cannot be changed. Turn it off first.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chan</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># update the pos and neg saturation parameter</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_chan_pos_sat</span><span class="p">(</span><span class="n">chan</span><span class="p">,</span> <span class="nb">abs</span><span class="p">(</span><span class="n">volt</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_chan_neg_sat</span><span class="p">(</span><span class="n">chan</span><span class="p">,</span> <span class="o">-</span><span class="nb">abs</span><span class="p">(</span><span class="n">volt</span><span class="p">))</span>
            <span class="c1"># self.channels[chan-1].v.vals=vals.Numbers(-abs(volt), abs(volt)) #does not work, throws an error at init since channels are not yet attached to instrument</span>
            <span class="c1"># --&gt; solve problem by moving all the communication functions to the level of the channel and not on the leel of instrument. Like this other parameters from the same channel are easily accessible via self.parameter</span>
            <span class="c1"># change the range</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;VOLT:RANGE &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">volt</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_get_chan_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get output voltage range</span>

<span class="sd">        Args:</span>
<span class="sd">            chan: The 1-indexed channel number</span>

<span class="sd">        Returns:</span>
<span class="sd">            volt: Output voltage range</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;VOLT:RANGE?&#39;</span><span class="p">)[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_get_chan_v_autorange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Get the channel voltage autorange state</span>

<span class="sd">            Args:</span>
<span class="sd">                chan: The 1-indexed channel number</span>

<span class="sd">            Returns:</span>
<span class="sd">                chXX_v_autorange parameter</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
            <span class="n">v_autorange_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">VOLT:RANGE:AUTO?&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chan_id</span><span class="p">))</span>

            <span class="k">if</span> <span class="n">v_autorange_state</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">]</span> <span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">v_autorange_state</span><span class="o">==</span><span class="s1">&#39;1&#39;</span> <span class="k">else</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Unknown state output: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">v_autorange_state</span><span class="p">))</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_set_chan_v_autorange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span><span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set channel voltage autorange state</span>

<span class="sd">        Args:</span>
<span class="sd">            chan: The 1-indexed channel number</span>
<span class="sd">            state: power state</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;VOLT:RANGE:AUTO </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="k">if</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span> <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_chan_pos_sat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
                                <span class="n">pos_sat</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pos_sat</span><span class="p">,(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;VOLT:SAT:POS </span><span class="si">{:.8f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pos_sat</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pos_sat</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;VOLT:SAT:POS MAX&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_chan_neg_sat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
                                <span class="n">neg_sat</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">neg_sat</span><span class="p">,(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;VOLT:SAT:NEG </span><span class="si">{:.8f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">neg_sat</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">neg_sat</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;VOLT:SAT:NEG MIN&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_chan_pos_sat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;VOLT:SAT:POS ?&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_chan_neg_sat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;VOLT:SAT:NEG ?&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_chan_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get channel power state</span>

<span class="sd">        Args:</span>
<span class="sd">            chan: The 1-indexed channel number</span>

<span class="sd">        Returns:</span>
<span class="sd">            state: Power state</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
        <span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;OUTP ?&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">state</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">]</span> <span class="p">:</span>
            <span class="k">return</span> <span class="n">state</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Unknown state output: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">state</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_set_chan_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
                              <span class="n">state</span><span class="p">:</span><span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set channel power state</span>

<span class="sd">        Args:</span>
<span class="sd">            chan: The 1-indexed channel number</span>
<span class="sd">            state: power state</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;OUTP &#39;</span> <span class="o">+</span> <span class="n">state</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_chan_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
                             <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the name of the channel</span>

<span class="sd">        Args:</span>
<span class="sd">            chan: Channel to be named</span>
<span class="sd">            name: Name of the channel</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;chan:name &quot;</span><span class="si">{}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_clear_chan_alarm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clear the alarm/warning for a given channel</span>

<span class="sd">        Args:</span>
<span class="sd">            chan: The 1-indexed channel number</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chan_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_id</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;LIM:CLEAR&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_id</span> <span class="o">+</span> <span class="s1">&#39;STAT:CLEAR&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="ITest.chan_to_ic">
<a class="viewcode-back" href="../../../../api/generated/qcodes_contrib_drivers.drivers.Bilt.html#qcodes_contrib_drivers.drivers.Bilt.ITest.ITest.chan_to_ic">[docs]</a>
    <span class="k">def</span> <span class="nf">chan_to_ic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indexing conversion from channel number (1 to 16)</span>
<span class="sd">        to iX;c;</span>
<span class="sd">        Args:</span>
<span class="sd">            chan: The 1-indexed channel number</span>

<span class="sd">        Returns:</span>
<span class="sd">            i,c: i=card number, c=channel number of card i</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">ceil</span><span class="p">(</span><span class="n">chan</span><span class="o">/</span><span class="mf">4.</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">chan</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">4</span>
        <span class="k">return</span> <span class="n">i</span><span class="p">,</span><span class="n">c</span></div>


<div class="viewcode-block" id="ITest.chan_to_id">
<a class="viewcode-back" href="../../../../api/generated/qcodes_contrib_drivers.drivers.Bilt.html#qcodes_contrib_drivers.drivers.Bilt.ITest.ITest.chan_to_id">[docs]</a>
    <span class="k">def</span> <span class="nf">chan_to_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">i</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_to_ic</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>

        <span class="k">return</span> <span class="s1">&#39;i</span><span class="si">{}</span><span class="s1">;c</span><span class="si">{}</span><span class="s1">;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">c</span><span class="p">)</span></div>


<div class="viewcode-block" id="ITest.set_dacs_zero">
<a class="viewcode-back" href="../../../../api/generated/qcodes_contrib_drivers.drivers.Bilt.html#qcodes_contrib_drivers.drivers.Bilt.ITest.ITest.set_dacs_zero">[docs]</a>
    <span class="k">def</span> <span class="nf">set_dacs_zero</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Ramp all voltages to zero.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">:</span>
            <span class="n">ch</span><span class="o">.</span><span class="n">v</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span></div>


<div class="viewcode-block" id="ITest.print_dac_voltages">
<a class="viewcode-back" href="../../../../api/generated/qcodes_contrib_drivers.drivers.Bilt.html#qcodes_contrib_drivers.drivers.Bilt.ITest.ITest.print_dac_voltages">[docs]</a>
    <span class="k">def</span> <span class="nf">print_dac_voltages</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Prints the voltage of all channels to cmdl.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;voltage on </span><span class="si">{}</span><span class="s1">:</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ch</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">ch</span><span class="o">.</span><span class="n">v</span><span class="p">(),</span> <span class="n">ch</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">unit</span><span class="p">))</span></div>
</div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, QCoDeS Users.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>